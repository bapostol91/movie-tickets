# Movie tickets

## Requirements

There are four types of movie tickets
* Adult: For customers 18 years and older but less than 65 years old. Costs $25.
* Senior: For customers 65 years and older. 30% cheaper than Adult tickets
* Teen: For customers 11 years and older but less than 18 years old. Costs $12
* Children: For customers less than 11 years of age. Costs $5.

If there are 3 or more Children's tickets in a transaction, there's a 25% discount applied to the cost of Children's tickets

Your task is to implement a java application which will expose an API call to take transaction as input and return below information:
* The ID of the transaction
* Each individual type of movie ticket present in that transaction, ordered alphabetically, and it's quantity and total cost
* The total cost of all movie tickets for that transaction

Ensure any domain logic has associated unit tests

## How to start the service

Tehnilogies and libraries:
- Java 17
- Maven
- SpringBoot 3.0.1
- Lombok

Configuration of prices are stored in [application.properties](src/main/resources/application.properties)

To start the server locally make sure the 8080 port is free and start the [ServiceApplication](src/main/java/com/movie/tickets/ServiceApplication.java)

The code is structured in the following packages:
* config - holds data about configuration
* controller - holds the REST API endpoint controller for creation of the tickets
* model - holds the domain model (DTOs)
* service - holds the services that performs the domain logic.

To build the project run the foolowing command:
```
mvn clean install
```

(!) Note that the above command will execute all the unit tests.
## Solution Outline

Given the Requirements listed above we have the following assumptions:
* transactionId is returned to the front end. Note in the sample examples there was a miss-match on the expected response.
* no database is required.
* prices are configurable

The following integration test holds all the logic that tests the samples given: [TicketsControllerITest](src/test/java/com/movie/tickets/controller/TicketsControllerITest.java)

## What could be improved?

1. The transaction id generation should be generated by the server, not by the client.
2. Price configuration should be stored in database.
3. TicketType should be stored in database.
4. Add spring security.